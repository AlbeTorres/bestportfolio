---
import { getCollection } from 'astro:content'
import Blogpost from '../../components/Blogpost.astro'
import Layout from '../../layouts/Layout.astro'

const allPosts = await getCollection('posts')
---

<Layout title='Alberto Torres 👨‍💻| Software Engineer'>
  <main>
    <h1 class='text-3xl font-bold my-5'>Blog:</h1>
    <div class='w-full'>
      {
        allPosts.map(p => (
          <Blogpost
            title={p.data.title}
            img={p.data.image}
            url={p.slug}
            desc={p.data.description}
            tags={p.data.tags}
          />
        ))
      }
    </div>
  </main>
</Layout>
